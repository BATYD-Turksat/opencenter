{
    "add_backend": {
        "args": {},
        "constraints": [],
        "consequences": [ "facts.backends := union(facts.backends, 'nova')" ]
    },
    "create_cluster": {
        "args": {

            "cluster_name": {
                "friendly": "name of nova cluster",
                "default": "Nova Cluster",
                "type": "string",
                "required": true
            },
            "nova_public_if": {
                "friendly": "interface of the public network on compute nodes (eth0, etc)",
                "default": "eth0",
                "type": "string",
                "required": true
            },
            "keystone_admin_pw": {
                "friendly": "password for admin user",
                "default": "secret",
                "type": "string",
                "required": true
            },
            "nova_dmz_cidr": {
                "friendly": "cidr of the range to not outbound nat",
                "default": "172.16.0.0/24",
                "type": "string",
                "required": true
            },
            "nova_vm_fixed_range": {
                "friendly": "cidr of ips to allocate for vm network",
                "default": "192.168.0.0/24",
                "type": "string",
                "required": true
            },
            "nova_vm_fixed_if": {
                "friendly": "interface of the vm network on compute nodes (eth1, etc)",
                "default": "eth1",
                "type": "string",
                "required": true
            },
            "nova_vm_bridge": {
                "friendly": "bridge to bring up as vm bridge (br100)",
                "default": "br100",
                "type": "string",
                "required": true
            },
            "osops_mgmt": {
                "friendly": "cidr of network to run management stuff on",
                "default": "192.168.200.0/24",
                "type": "string",
                "required": true
            },
            "osops_nova": {
                "friendly": "cidr of network to run nova stuff on (mysql, etc)",
                "default": "192.168.200.0/24",
                "type": "string",
                "required": true
            },
            "osops_public": {
                "friendly": "cidr of network to run public stuff on (lb, etc)",
                "default": "192.168.200.0/24",
                "type": "string",
                "required": true
            },
            "nova_az": {
                "friendly": "name of nova availability zone",
                "default": "nova",
                "type": "string",
                "required": true
            },
            "chef_server": {
                "friendly": "chef server to use",
                "type": "interface",
                "name": "chef-server",
                "required": true
            }
        },
        "constraints": [ "ifcount('chef-server') > 0" ],
        "consequences": []
    }
}
